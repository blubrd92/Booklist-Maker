<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Booklist Maker</title>

  <!-- External libs -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <!-- App styles -->
  <link rel="stylesheet" href="assets/css/styles.css"/>
</head>
<body>
  <div id="notification-area"></div>

  <h1>Booklist Maker</h1>

  <div class="booklist-section">
    <h2>My Booklist Preview</h2>

    <div class="export-controls">
      <h3>Book Block Styles</h3>

      <!-- Title style group -->
      <div class="form-group" data-style-group="title">
        <label>Title</label>
        <select class="font-select">
          <option value="'Georgia', serif">Georgia</option>
          <option value="'Calibri', sans-serif">Calibri</option>
          <option value="'Arvo', serif">Arvo</option>
          <option value="'Lato', sans-serif">Lato</option>
          <option value="'Roboto', sans-serif">Roboto</option>
          <option value="'Merriweather', serif">Merriweather</option>
          <option value="'EB Garamond', serif">EB Garamond</option>
          <option value="'Helvetica', sans-serif">Helvetica</option>
          <option value="'Times New Roman', serif">Times New Roman</option>
        </select>
        <input class="font-size-input" type="number" min="8" value="14"/>
        <span>pt</span>
        <input class="color-picker" type="color" value="#000000"/>
        <button class="bold-toggle">B</button>
        <button class="italic-toggle">I</button>
      </div>

      <!-- Author style group -->
      <div class="form-group" data-style-group="author">
        <label>Author/Call#</label>
        <select class="font-select">
          <option value="'Calibri', sans-serif">Calibri</option>
          <option value="'Georgia', serif">Georgia</option>
          <option value="'Arvo', serif">Arvo</option>
          <option value="'Lato', sans-serif">Lato</option>
          <option value="'Roboto', sans-serif">Roboto</option>
          <option value="'Merriweather', serif">Merriweather</option>
          <option value="'EB Garamond', serif">EB Garamond</option>
          <option value="'Helvetica', sans-serif">Helvetica</option>
          <option value="'Times New Roman', serif">Times New Roman</option>
        </select>
        <input class="font-size-input" type="number" min="8" value="12"/>
        <span>pt</span>
        <input class="color-picker" type="color" value="#000000"/>
        <button class="bold-toggle active">B</button>
        <button class="italic-toggle">I</button>
      </div>

      <!-- Description style group -->
      <div class="form-group" data-style-group="desc">
        <label>Description</label>
        <select class="font-select">
          <option value="'Calibri', sans-serif">Calibri</option>
          <option value="'Georgia', serif">Georgia</option>
          <option value="'Arvo', serif">Arvo</option>
          <option value="'Lato', sans-serif">Lato</option>
          <option value="'Roboto', sans-serif">Roboto</option>
          <option value="'Merriweather', serif">Merriweather</option>
          <option value="'EB Garamond', serif">EB Garamond</option>
          <option value="'Helvetica', sans-serif">Helvetica</option>
          <option value="'Times New Roman', serif">Times New Roman</option>
        </select>
        <input class="font-size-input" type="number" min="8" value="10"/>
        <span>pt</span>
        <input class="color-picker" type="color" value="#000000"/>
        <button class="bold-toggle">B</button>
        <button class="italic-toggle">I</button>

        <div style="display: flex; align-items: center; gap: 5px; margin-left: 20px;">
          <input id="stretch-block-covers-toggle" type="checkbox"/>
          <label for="stretch-block-covers-toggle" style="font-size:0.9em; font-weight:normal;">Stretch Book Block Covers</label>
        </div>
      </div>

      <h3 style="margin-top: 15px;">QR Code Generator</h3>
      <div class="form-group" id="qr-code-controls">
        <label for="qr-url-input">URL:</label>
        <input id="qr-url-input" type="text" placeholder="https://www.mylibrary.org" style="flex-grow:1;"/>
        <button id="generate-qr-button" style="width: 100px; padding: 8px;">Generate QR</button>
      </div>

      <div class="form-group" data-style-group="qr">
        <label>QR Text</label>
        <select class="font-select">
          <option value="'Calibri', sans-serif">Calibri</option>
          <option value="'Georgia', serif">Georgia</option>
          <option value="'Arvo', serif">Arvo</option>
          <option value="'Lato', sans-serif">Lato</option>
          <option value="'Roboto', sans-serif">Roboto</option>
          <option value="'Merriweather', serif">Merriweather</option>
          <option value="'EB Garamond', serif">EB Garamond</option>
          <option value="'Helvetica', sans-serif">Helvetica</option>
          <option value="'Times New Roman', serif">Times New Roman</option>
        </select>
        <input class="font-size-input" type="number" min="8" value="13"/>
        <span>pt</span>
        <input class="color-picker" type="color" value="#000000"/>
        <button class="bold-toggle active">B</button>
        <button class="italic-toggle">I</button>
      </div>
      
      <h3 style="margin-top: 15px;">Back Cover Options</h3>
      <div class="form-group">
        <div style="display: flex; align-items: center; gap: 5px;">
          <input id="toggle-qr-code" type="checkbox" checked/>
          <label for="toggle-qr-code" style="font-size:0.9em; font-weight:normal;">Show QR Code Block</label>
        </div>
        <div style="display: flex; align-items: center; gap: 5px; margin-left: 20px;">
          <input id="toggle-branding" type="checkbox" checked/>
          <label for="toggle-branding" style="font-size:0.9em; font-weight:normal;">Show Branding Block</label>
        </div>
      </div>

      <h3 style="margin-top: 15px;">Cover Title Styles</h3>
      <div class="form-group" id="cover-title-style-group">
        <label>Cover Title</label>
        <select class="font-select">
          <option value="'Oswald', sans-serif">Oswald</option>
          <option value="'Arvo', serif">Arvo</option>
          <option value="'Anton', sans-serif">Anton</option>
          <option value="'Lato', sans-serif">Lato</option>
          <option value="'Roboto', sans-serif">Roboto</option>
          <option value="'Georgia', serif">Georgia</option>
          <option value="Merriweather">Merriweather</option>
          <option value="'EB Garamond', serif">EB Garamond</option>
          <option value="'Helvetica', sans-serif">Helvetica</option>
        </select>
        <input class="font-size-input" type="number" min="8" value="40"/>
        <span>pt</span>
        <input class="color-picker" type="color" value="#FFFFFF"/>
        <button class="bold-toggle active">B</button>
        <button class="italic-toggle">I</button>

        <label style="margin-left: 10px;">BG:</label>
        <input id="cover-title-bg-color" class="color-picker" type="color" value="#000000"/>

        <!-- New editable margins/padding -->
        <label style="margin-left:10px;">Outer margin (pt)</label>
        <input id="cover-title-outer-margin" class="font-size-input" type="number" value="10"/>
        <label style="margin-left:10px;">BG pad X (pt)</label>
        <input id="cover-title-pad-x" class="font-size-input" type="number" value="0"/>
        <label style="margin-left:10px;">BG pad Y (pt)</label>
        <input id="cover-title-pad-y" class="font-size-input" type="number" value="10"/>
        <label style="margin-left:10px;">Side margin (pt)</label>
        <input id="cover-title-side-margin" class="font-size-input" type="number" value="0"/>

        <div style="display: flex; align-items: center; gap: 5px; margin-left:15px;">
          <input id="stretch-covers-toggle" type="checkbox" checked/>
          <label for="stretch-covers-toggle" style="font-size:0.9em; font-weight:normal;">Stretch Covers to Fit</label>
        </div>
      </div>

      <button id="export-pdf-button">Generate PDF</button>
    </div>

    <div id="preview-area">
      <div class="page" id="print-page-1">
        <div class="panel" id="back-cover-panel">
          <!-- Book items inserted before these uploaders -->
          <div class="qr-code-container" id="qr-code-area">
            <div id="qr-code-text" class="editable-field" contenteditable="true">
              Want to find more titles? Scan this code to discover more at your library.
            </div>
              <div id="qr-code-canvas">
                <img alt="QR Code Placeholder" src="https://placehold.co/144x144/EAEAEA/333333?text=QR+Code"/>
              </div>
            </div>
          <label class="custom-uploader" id="branding-uploader">
            <img alt="Library Branding Placeholder" src="assets/img/branding-default.png"/>
            <input type="file" accept="image/*"/>
          </label>
        </div>

        <div class="panel" id="front-cover-panel">
          <div class="custom-uploader" id="front-cover-uploader">
            <img alt="Cover Image Placeholder" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/>
            <div class="placeholder-text">
              Upload a Custom Cover<br/>(5x8 inches)<br/><br/>OR<br/><br/>Use the Auto-Generator Below<br/>(This will use the first 12 covers from your list to create a collage)
            </div>
            <div id="cover-generate-controls">
              <!-- Replaced input with textarea for multi-line titles -->
              <textarea id="cover-title-input" rows="3" placeholder="Enter Cover Title..."></textarea>
              <button id="generate-cover-button">Auto-Generate Cover</button>
            </div>
            <input type="file" accept="image/*"/>
          </div>
        </div>
      </div>

      <div class="page" id="print-page-2">
        <div class="panel book-panel" id="inside-left-panel"></div>
        <div class="panel book-panel" id="inside-right-panel"></div>
      </div>
    </div>
  </div>

  <div style="max-width: 1280px; margin: 0 auto; padding: 0 20px;">
    <hr/>
    <form id="search-form" class="search-form">
      <div class="form-field">
        <label for="keywordInput">Keyword (any field)</label>
        <input id="keywordInput" type="text" placeholder="e.g., The Hobbit"/>
      </div>
      <div class="form-field">
        <label for="titleInput">Title</label>
        <input id="titleInput" type="text" placeholder="e.g., Dune"/>
      </div>
      <div class="form-field">
        <label for="authorInput">Author</label>
        <input id="authorInput" type="text" placeholder="e.g., Frank Herbert"/>
      </div>
      <div class="form-field">
        <label for="subjectInput">Subject</label>
        <input id="subjectInput" type="text" placeholder="e.g., science fiction"/>
      </div>
      <div class="form-field">
        <label for="isbnInput">ISBN</label>
        <input id="isbnInput" type="text" placeholder="e.g., 9780321765723"/>
      </div>
      <div class="form-field">
        <label for="publisherInput">Publisher</label>
        <input id="publisherInput" type="text" placeholder="e.g., Penguin Classics"/>
      </div>
      <div class="form-field">
        <label for="personInput">Contributor</label>
        <input id="personInput" type="text" placeholder="e.g., an illustrator"/>
      </div>
      <button id="fetchButton" type="submit">Search</button>
    </form>
    <hr/>
  </div>

  <div style="max-width: 1280px; margin: 0 auto; padding: 0 20px;">
    <h2>Search Results</h2>
    <div id="results-container"></div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="assets/js/app.js"></script>
  
  <!-- App script -->
  <script src="assets/js/app.js"></script>

  <div class="font-preloader">
        <span style="font-family: 'Oswald', sans-serif; font-weight: 400;">.</span>
        <span style="font-family: 'Oswald', sans-serif; font-weight: 700;">.</span>
        <span style="font-family: 'Anton', sans-serif; font-weight: 400;">.</span>
        <span style="font-family: 'EB Garamond', serif; font-weight: 400; font-style: normal;">.</span>
        <span style="font-family: 'EB Garamond', serif; font-weight: 400; font-style: italic;">.</span>
        <span style="font-family: 'EB Garamond', serif; font-weight: 700; font-style: normal;">.</span>
        <span style="font-family: 'EB Garamond', serif; font-weight: 700; font-style: italic;">.</span>
        <span style="font-family: 'Lato', sans-serif; font-weight: 400; font-style: normal;">.</span>
        <span style="font-family: 'Lato', sans-serif; font-weight: 400; font-style: italic;">.</span>
        <span style="font-family: 'Lato', sans-serif; font-weight: 700; font-style: normal;">.</span>
        <span style="font-family: 'Lato', sans-serif; font-weight: 700; font-style: italic;">.</span>
        <span style="font-family: 'Merriweather', serif; font-weight: 400; font-style: normal;">.</span>
        <span style="font-family: 'Merriweather', serif; font-weight: 400; font-style: italic;">.</span>
        <span style="font-family: 'Merriweather', serif; font-weight: 700; font-style: normal;">.</span>
        <span style="font-family: 'Merriweather', serif; font-weight: 700; font-style: italic;">.</span>
        <span style="font-family: 'Roboto', sans-serif; font-weight: 400; font-style: normal;">.</span>
        <span style="font-family: 'Roboto', sans-serif; font-weight: 400; font-style: italic;">.</span>
        <span style="font-family: 'Roboto', sans-serif; font-weight: 700; font-style: normal;">.</span>
        <span style="font-family: 'Roboto', sans-serif; font-weight: 700; font-style: italic;">.</span>
        <span style="font-family: 'Arvo', serif; font-weight: 400; font-style: normal;">.</span>
        <span style="font-family: 'Arvo', serif; font-weight: 400; font-style: italic;">.</span>
        <span style="font-family: 'Arvo', serif; font-weight: 700; font-style: normal;">.</span>
        <span style="font-family: 'Arvo', serif; font-weight: 700; font-style: italic;">.</span>
  </div>
  
</body>
</html>











